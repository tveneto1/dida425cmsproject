<!-- this is what the user sees after logging in, 
 the content itself can be changed and probably should
 could have hyperlinks leading to different functions
 ie create post, delete post, etc -->

{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
  .header {
  background-color: #005A43;
  text-align: center;
  color:#f8f9fa;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 40px;
  padding: 30px;
  line-height: 0.1;
  }

  .accountbar {
    background-color:#d9d9d9;
    padding: 3px;
    font-size: 20px;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color:#212529;
    
  }

  .dropdown {
    display: inline-block;
    position: relative; 
    left: 870px;
  }

  .menu {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 200px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
    right: 0;
  }

  .dropdown-button {
    background-color: #d9d9d9;
    padding: 5px;
    font-size: 20px;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color:#212529;
    outline: none;
  }
  .menu a {
    color: #212529;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

.menu a:hover {background-color: #ddd;}

.dropdown:hover .menu {display: block;}

.dropdown:hover .dropdown-button {background-color: #a6a6a6;}

  .column {
    float: left;
    width: 31%;
    padding: 10px;
    justify-content: center;
    height: 260px;
  }

  /* Clear floats after the columns */
  .row:after {
    content: "";
    display: grid;
    place-items: center;
    clear: both;
    justify-content: center;
  }

  .footer {
    background-color: #005A43;
    padding: 15px;
    color: #f8f9fa;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 0.5;

  }
  
</style>

<!-- new homepage -->
{% if user.is_authenticated %}

<div class="header">
  <h2>CMS425</h2>
  <h5><em>Create, add, and display content</em></h5>
</div>
<div class="accountbar">
  <p style="position: relative; left: 20px; display: inline-block">Welcome back, {{ user.username }}!</p>
  <div class="dropdown" style="display: inline-block">
    <button class="dropdown-button">Account</button>
    <div class="menu">
      <a href="{% url 'password_reset' %}">Password Reset</a>
      {% if user.is_staff %}
      <a href="{% url 'manage_users' %}">Manage Users</a>
      {% endif %}
      <a href="{% url 'logout' %}">Log Out</a>
      
    </div>
  </div>
</div>

<div class="row" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <div class="column">
    <a href="{% url 'go_to_post' %}" style="display: block; padding: 20px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; text-decoration: none; color: #212529; transition: all 0.2s;" onmouseover="this.style.background='#e8f5f1'; this.style.borderColor='#005A43';" onmouseout="this.style.background='#f8f9fa'; this.style.borderColor='#dee2e6';">
      <strong style="display: block; margin-bottom: 5px; color: #005A43; font-weight: 600;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        Upload Content
      </strong>
      <small style="color: #6c757d; font-weight: 400;">Add new announcements and content </small>
    </a>
  </div>

  <div class="column">
    <a href="{% url 'all_images' %}" style="display: block; padding: 20px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; text-decoration: none; color: #212529; transition: all 0.2s;" onmouseover="this.style.background='#e8f5f1'; this.style.borderColor='#005A43';" onmouseout="this.style.background='#f8f9fa'; this.style.borderColor='#dee2e6';">
      <strong style="display: block; margin-bottom: 5px; color: #005A43; font-weight: 600;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="8.5" cy="8.5" r="1.5"></circle>
          <polyline points="21 15 16 10 5 21"></polyline>
        </svg>
        Manage Slides
      </strong>
      <small style="color: #6c757d; font-weight: 400;">View and manage uploaded content currently in the slideshow carousel rotation </small>
    </a>
  </div>

  <div class="column">
    <a href="{% url 'slidedisplay' %}" style="display: block; padding: 20px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; text-decoration: none; color: #212529; transition: all 0.2s;" onmouseover="this.style.background='#e8f5f1'; this.style.borderColor='#005A43';" onmouseout="this.style.background='#f8f9fa'; this.style.borderColor='#dee2e6';">
      <strong style="display: block; margin-bottom: 5px; color: #005A43; font-weight: 600;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
        Start Display
      </strong>
      <small style="color: #6c757d; font-weight: 400;">Launch automatic slideshow presentation</small>
    </a>
  </div>
</div>

<div class="footer">
  <p style="position: relative; left: 15px; display: inline-block">About CMS425</p>
  <p style="position: relative; left: 1020px; display: inline-block">Â© 2025</p>
</div>
{% else %}


<div style="max-width: 400px; margin: 60px auto; padding: 40px; background: #f8f9fa; border-radius: 12px; text-align: center; font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  <h2 style="margin-bottom: 20px; color: #005A43; font-weight: 700;">Welcome!</h2>
  <p style="color: #666; margin-bottom: 30px; font-weight: 400;">Please log in to continue</p>
  <div style="display: flex; gap: 15px; justify-content: center;">
    <a href="{% url 'login' %}" style="padding: 12px 24px; background: #005A43; color: white; text-decoration: none; border-radius: 6px; transition: background 0.2s; font-weight: 600;" onmouseover="this.style.background='#004532';" onmouseout="this.style.background='#005A43';">Log In</a>
    <a href="{% url 'password_reset' %}" style="padding: 12px 24px; background: white; border: 1px solid #dee2e6; color: #212529; text-decoration: none; border-radius: 6px; transition: all 0.2s; font-weight: 400;" onmouseover="this.style.background='#f8f9fa';" onmouseout="this.style.background='white';">Reset Password</a>
  </div>
  <br>
  <br>
  <p style="color: #666; margin-bottom: 30px; font-weight: 400;">Or start display here:</p>
  <div>
    <a href="{% url 'slidedisplay' %}" style="padding: 12px 24px; background: #005A43; color: white; text-decoration: none; border-radius: 6px; transition: background 0.2s; font-weight: 600;" onmouseover="this.style.background='#004532';" onmouseout="this.style.background='#005A43';">Start Display</a>
  </div>
</div>
{% endif %}
{% endblock %}